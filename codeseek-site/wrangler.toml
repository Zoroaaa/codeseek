name = "codeseek-site"
main = "src/index.js"
compatibility_date = "2024-03-18"
workers_dev = true

[vars]
# 生产环境配置
ENVIRONMENT = "production"
DEBUG = "false"

# 允许直接浏览器访问
ALLOW_DIRECT_ACCESS = "true"

# 额外的代理目标白名单（可选，补充代码中的硬编码列表）
EXTRA_PROXY_TARGETS = ""

# 备用域名配置
BACKUP_DOMAINS = ""

# 故障转移配置
ENABLE_FAILOVER = "true"
FAILOVER_TIMEOUT = "5000"

# 外部代理API配置（可选）
# PROXY_API = "https://your-proxy-api.com/proxy"
# PROXY_API_KEY = "your-api-key-here"
# PROXY_TIMEOUT = "10000"
# PROXY_RETRIES = "2"

# 代理协议设置（默认https）
PROXY_PROTOCOL = "https"

# KV缓存配置
# 缓存TTL设置（秒）
CACHE_HTML_TTL = "3600"      # HTML缓存1小时
CACHE_CSS_TTL = "86400"      # CSS缓存1天  
CACHE_JS_TTL = "86400"       # JavaScript缓存1天
CACHE_IMAGE_TTL = "2592000"  # 图片缓存30天
CACHE_FONT_TTL = "2592000"   # 字体缓存30天
CACHE_JSON_TTL = "1800"      # JSON缓存30分钟
CACHE_DEFAULT_TTL = "3600"   # 默认缓存1小时

# KV命名空间绑定
[[kv_namespaces]]
binding = "KV_CACHE"
id = "21feed084fa648dd932e404935aec39c"  # 替换为实际的KV命名空间ID

# 开发环境配置
[env.development]
vars = { DEBUG = "true", ENVIRONMENT = "development" }

# 测试环境配置  
[env.staging]
vars = { DEBUG = "true", ENVIRONMENT = "staging" }

# 生产环境配置
[env.production]
vars = { DEBUG = "false", ENVIRONMENT = "production" }

# 路由配置（可选）
# routes = [
#   { pattern = "your-domain.com/*", zone_name = "your-domain.com" }
# ]

# 触发器配置（可选）
# [[triggers.crons]]
# cron = "0 */6 * * *"  # 每6小时清理一次过期缓存