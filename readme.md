# 磁力快搜 - codeseek

<div align="center">

![Logo](frontend/images/logo.png)

**一个现代化的磁力搜索聚合平台**

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Version](https://img.shields.io/badge/version-2.3.1-blue.svg)](https://github.com/yourusername/magnet-search)
[![Cloudflare](https://img.shields.io/badge/Powered%20by-Cloudflare-orange.svg)](https://www.cloudflare.com/)

</div>

## 🔗 快速访问

<div align="center">

| 资源类型 | 链接 | 备注 |
|---------|------|------|
| 📖 项目文档 | 👉 [完整介绍](https://zread.ai/Zoroaaa/codeseek) | 详细的项目说明和使用指南 |
| 🚀 在线体验 | 👉 [https://codeseek.pp.ua](https://codeseek.pp.ua) | 体验完整功能 |
| 🔑 演示密码 | 👉`zoro666` | 代理网页访问密码 |
| 📧 技术支持 | 👉 [zoroasx@gmail.com](mailto:zoroasx@gmail.com) | 使用问题反馈 |

</div>
=======


## ✨ 项目特色

- 🚀 **无框架架构**: 基于原生ES6模块化开发，无第三方框架依赖，极致轻量
- 🌐 **多源聚合搜索**: 同时整合多个主流磁力搜索站点结果
- 🔧 **高度可定制**: 支持添加、编辑、分类管理自定义搜索源
- ☁️ **Cloudflare生态**: 基于Cloudflare Workers和D1构建的无服务器架构
- 📱 **完美响应式**: 从移动设备到大屏显示器的无缝体验
- 🎨 **主题系统**: 内置亮色/暗色/自动三种主题模式
- 📋 **统一搜索管理**: 集中管理搜索流程、结果处理和缓存策略
- 🔐 **安全认证**: 基于JWT的安全用户认证系统
- 📧 **邮箱验证**: 增强账户安全的邮箱验证机制
- 🔌 **智能代理功能**: 内置完整代理服务，突破网络限制，提升访问体验
- 💾 **多层级缓存**: 智能缓存策略大幅提升搜索速度和用户体验
- 📊 **数据分析**: 内置搜索源状态监控和性能分析
- 👥 **社区功能**: 支持标签管理和搜索源分享

## 🏗️ 技术架构
👉 [查看技术架构说明](backend-frontend-tree.md)

## 🚀 快速开始
👉 [查看项目部署说明](deploy.md)

## 🎯 核心功能

### 1. 智能搜索系统
- **多源聚合**: 同时从多个主流磁力搜索站点获取结果
- **统一结果格式**: 将不同站点的结果规范化为统一格式
- **智能缓存**: 内置多层级缓存机制，大幅提升搜索速度
- **搜索建议**: 基于历史搜索记录和热门关键词的智能提示
- **源管理**: 用户可自由启用、禁用和优先排序搜索源
- **统一搜索管理**: 集中管理搜索流程、结果处理和性能优化
- **源状态检查**: 实时监控搜索源的可用性和响应速度

### 2. 智能代理功能
- **一键切换**: 简单易用的全局代理开关
- **健康检查**: 自动检测代理服务器状态和响应时间
- **域名支持**: 支持多个搜索源域名的代理访问
- **资源类型智能缓存**: 基于资源类型的TTL缓存策略
  - HTML (5分钟)、CSS/JS (1小时)、图片 (24小时)、字体 (7天)
- **请求队列**: 智能请求队列管理，优化并发请求
- **性能监控**: 实时监控代理性能指标和缓存命中率
- **URL重写**: 智能重写网页中的所有URL引用
- **资源优化**: 自动处理相对路径、绝对路径和协议相对URL
- **响应式图片支持**: 智能处理srcset属性

### 3. 自定义搜索源
- **源配置**: 支持添加和编辑自定义搜索站点
- **分类管理**: 多级分类系统，支持主要分类和子分类
- **模板系统**: 灵活的URL模板和结果解析配置
- **批量操作**: 批量启用、禁用和删除搜索源
- **源导入导出**: 支持搜索源配置的导入和导出
- **源状态监控**: 实时监控每个搜索源的可用性

### 4. 用户系统
- **安全认证**: 基于JWT的安全用户认证系统
- **个人设置**: 丰富的个性化配置选项
- **数据同步**: 跨设备的用户数据同步
- **隐私保护**: 本地优先的数据存储策略
- **邮箱验证**: 增强账户安全的邮箱验证机制
- **收藏管理**: 管理用户收藏的磁力链接
- **历史记录**: 记录和管理用户的搜索历史

### 5. 社区功能
- **标签管理**: 创建和分享搜索标签
- **源分享**: 社区贡献和分享优质搜索源
- **用户互动**: 支持社区内的用户交流和反馈
- **数据统计**: 收集和展示社区使用数据和热门内容

## 🔧 配置说明
👉 [查看项目配置说明](config.md)

## 📊 性能优化

### 前端优化策略
- **ES6模块化**: 原生模块化加载，无需打包工具
- **智能缓存**: 多层级缓存机制，包含API响应缓存和资源缓存
- **按需加载**: 组件和服务按需加载，减少初始加载时间
- **响应式设计**: 针对不同设备优化的资源和布局
- **本地存储**: 充分利用LocalStorage和IndexedDB减少API调用
- **延迟执行**: 非关键任务延迟执行，提升首屏加载速度

### 代理服务优化
- **资源类型缓存**: 基于资源类型的智能缓存策略
- **LRU缓存淘汰**: 高效的缓存淘汰算法
- **请求队列**: 智能请求队列和并发控制
- **URL重写优化**: 高效的URL重写算法，减少不必要的处理
- **代理健康检查**: 自动检测和规避不健康的代理节点

### 后端优化
- **边缘计算**: 利用Cloudflare全球边缘节点，就近处理请求
- **数据库优化**: 索引优化、查询优化和连接池管理
- **KV缓存**: 使用Cloudflare KV存储缓存频繁访问的数据
- **并发控制**: 优化的并发请求处理策略
- **错误重试**: 智能错误重试机制，提高系统稳定性
- **请求路由**: 基于地理位置的智能请求路由

## 🔒 安全特性

### 前端安全
- **XSS防护**: 输入输出严格过滤，使用内容安全策略(CSP)
- **CSRF保护**: Token验证机制和同源策略严格执行
- **内容安全**: 资源白名单机制，防止恶意资源加载
- **安全沙箱**: 重要操作在安全沙箱中执行
- **CORS配置**: 严格的跨域资源共享策略

### 后端安全
- **SQL注入防护**: 参数化查询和输入验证
- **访问控制**: 基于角色的权限管理系统
- **数据加密**: 敏感数据(如用户凭证)加密存储
- **速率限制**: 防暴力破解的请求速率限制
- **认证安全**: JWT令牌定期轮换和权限范围控制
- **异常处理**: 安全的错误信息返回策略

### 代理安全
- **请求过滤**: 基于URL和内容的请求过滤
- **白名单机制**: 只代理已验证的安全域名
- **HTTPS强制**: 所有代理连接强制使用HTTPS
- **资源隔离**: 代理资源与主应用资源完全隔离
- **隐私保护**: 代理请求中移除可能泄露用户信息的请求头

## 📝 API文档

项目提供了完整的RESTful API，支持前端应用和第三方集成：
👉 [查看API说明](api.md)

## 📄 更新日志

### 最新版本

#### 前端 v2.3.1
- **架构重构**
  - ✨ 新增统一搜索管理器架构，优化搜索流程
  - 🔧 重构搜索组件架构，提高可维护性
  - 🚀 移除详情提取服务，简化系统架构
- **新功能**
  - 🔌 新增完整的智能代理功能
    - 一键切换全局代理
    - 资源类型智能缓存策略
    - URL重写和资源优化
    - 响应式图片支持
  - 📊 新增代理性能监控和缓存统计
- **用户体验**
  - 🎨 改进主题系统和UI体验
  - 📱 增强移动端响应式设计
  - ⚡ 优化页面加载和交互速度
- **修复**
  - 🐛 修复已知性能和显示问题
  - 🔍 修复搜索结果排序问题

#### 后端 v2.1.0
- **架构升级**
  - ✨ 新增模块化数据库结构，提高可扩展性
  - 🔧 重构服务层架构，优化代码组织
  - 🔌 新增代理服务支持，实现搜索源访问优化
- **安全增强**
  - 🔐 增强认证和安全机制
  - 📧 添加邮箱验证服务，提升账户安全性
  - 🚫 实现请求速率限制，防止滥用
- **功能完善**
  - 👥 完善社区功能支持
  - 📊 增强搜索源统计和监控
  - 🔍 优化搜索结果处理逻辑

### 历史版本

#### v1.3.0 (2024-12-19)
- **核心功能**
  - ✨ 新增自定义搜索源和分类管理
  - 🔍 添加详情提取功能
  - 👥 新增用户收藏管理
- **性能优化**
  - 🚀 优化搜索性能和缓存机制
  - ⚡ 提升API响应速度
- **用户体验**
  - 🎨 改进用户界面和交互体验
  - 🔧 重构Dashboard架构，提升可维护性
  - 📊 增强数据统计和可视化功能

#### v1.2.0
- **用户系统**
  - 🔐 完善用户认证和安全机制
  - ☁️ 实现云端数据同步功能
- **跨设备支持**
  - 📱 优化移动端适配
  - 💻 完善桌面端体验
- **其他**
  - 🐛 修复若干已知问题
  - 📝 更新API文档和使用说明

#### v1.1.0
- ✨ 初始版本发布
- 🔍 基础搜索功能实现
- 📱 响应式设计支持
- 🗂️ 基本分类系统
- 🚀 性能优化和bug修复

## 📄 许可证

本项目基于 [MIT License](LICENSE) 开源协议。在遵循以下条款的前提下，您可以自由使用、修改和分发本软件：

- 您可以使用本软件用于任何目的，包括商业用途
- 您可以修改本软件的源代码
- 您可以在您的项目中包含本软件
- 您需要保留原始版权声明和许可证文本
- 作者和贡献者不对软件提供任何担保，不承担任何责任

## 🙏 致谢

- **技术平台支持**
  - [Cloudflare](https://www.cloudflare.com/) - 提供优秀的边缘计算平台和Worker服务
  - [GitHub](https://github.com/) - 提供代码托管和协作平台


## 📧 联系与支持

### 官方渠道
- **项目主页**: [codeseek](https://github.com/Zoroaaa/codeseek)
- **问题反馈**: [Issues](https://github.com/Zoroaaa/codeseek/issues)
- **功能建议**: [Discussions](https://github.com/Zoroaaa/codeseek/discussions)

### 贡献交流
- **邮件列表**: zoroasx@gmail.com

---

<div align="center">
  <p>✨ 感谢您使用磁力快搜！ ✨</p>
  <p>⭐ 如果这个项目对你有帮助，请给我们一个Star！ ⭐</p>
  <p>💪 欢迎加入我们的开源社区，一起改进和发展！ 💪</p>
</div>
